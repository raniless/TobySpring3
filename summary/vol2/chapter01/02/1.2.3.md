## 1.2.3 빈 의존관계 설정 방법
- XML: \<property>, \<constructor-arg>
  + 프로퍼티는 수정자 메소드 사용, 생성자는 빈 클래스의 생성자를 이용
  + \<property>: 수정자 주입
    * 하나의 프로퍼티가 하나의 빈 또는 값을 DI 하는데 사용
    * ref 애트리뷰트를 사용하면 빈 이름을 이용해 주입할 빈을 찾는다.
      ```xml
      <bean ...>
        <property name="printer" ref="defaultPrinter" />
      </bean>
      
      <bean id="defaultPrinter" class="...">
      ```
    * value 애트리뷰트는 단순 값 또는 빈이 아닌 오브젝트를 주입할 때 사용한다.
      ```xml
      <property name="name" value="Spring" />
      <property name="age" value="30" />
      <property name="myClass" value="java.lang.String" />
      ```
    * value 애트리뷰트로 넣을 수 있는 값의 타입에는 제한이 없다.
  + \<constructor-arg>: 생성자 주입
    * 생성자를 통한 빈 또는 값의 주입에 사용
    * 생성자의 파라미터를 이용하기 때문에 한 번에 여러 개의 오브젝트를 주입할 수 있다.
    * 생성자 파라미터는 파라미터 순서나 타입을 명시하는 방법이 필요하다.
      ```java
      public class Hello {
        private String name;
        private Printer printer;

        public Hello(String name, Printer printer) {
          this.name = name;
          this.printer = printer;
        }
      }
      ```
      ```xml
        <bean id="hello" class="springbook.learningtest.spring.ioc.bean.Hello">
          <constructor-arg index="0" value="Spring" />
          <constructor-arg index="1" ref="printer" />
        </bean>
      ```
    * 파라미터에 중복되는 타입이 없다면 타입으로 구분해줄 수도 있다.
    ```xml
    <constructor-arg type="java.lang.String" value="Spring" />
    <constructor-arg type="springbook.learningtest.spring.ioc.bean.Printer" ref="printer" />      
    ```
    * 파라미터 이름을 사용할 수도 있다.
    ```xml
    <constructor-arg name="name" value="Spring" />
    <constructor-arg name="printer" ref="printer" />      
    ```

- XML: 자동와이어링
  + byName : 빈 이름 자동와이어링
    * 보통 빈의 이름은 클래스 이름이나 빈이 구현한 대표적인 인터페이스 이름을 따른다.
    * 프로퍼티 이름도 프로퍼티 타입의 이름을 사용한다.
      ```xml
      <bean id="hello" ...>
        <property name="printer" ref="printer" />
        <property name="name" value="Spring" />
      </bean>

      <bean id="printer" class="...StringPrinter" />
      ```
    * autowire 모드를 지정하면 \<property>를 생략할 수 있다.
      ```xml
      <bean id="hello" class="...Hello" autowired="byName">
        <!-- <property name="printer" ref="printer" /> 생략 -->
        <!-- 자동와이어링을 통해 컨테이너가 자동으로 추가해준다. -->
        <property name="name" value="Spring" />
      </bean>
      ```
    * 빈의 모든 프로퍼티에 대해 이름이 동일한 빈을 찾아서 연결해준다.
    * 프로퍼티와 이름이 같은 빈이 없는 경우는 무시한다.
    * 자동와이어링을 적용하면서 명시적인 프로퍼티 선언을 함께 사용할 수 있다.
    * 모든 빈에 적용할 것이라면 <beans>의 디폴트 자동와이어링 옵션을 변경
      ```xml
      <beans default-autowire="byName">
        <bean>...</bean>
        ...
      </beans>
      ```
  + byType : 타입에 의한 자동와이어링
    * 프로퍼티의 타입과 각 빈의 타입을 비교해서 자동으로 연결해주는 방법
    * \<bean>에 autowire="byType", \<beans>에 default-autowire="byType" 으로 설정하여 사용
      ```xml
      <beans default-autowire="byType">
        <bean>...</bean>
        ...
      </beans>

      <bean id="hello" class="...Hello" autowire="byType">...</bean>
      <bean id="mainPrinter" class="...StringPrinter" />
      ```
    * 타입이 같은 빈이 두 개 이상 존재하는 경우에는 적용되지 못한다. (스프링이 어떤 빈을 사용해야 할지 결정할 수가 없기 때문)
    * 이름을 비교할때보다 느리다.
    * 빈의 모든 프로퍼티에 적용되고 프로퍼티 개수가 많아지면 자동와이어링 대상이 아님에도 한 번씩 모든 빈의 타입과 비교하는 작업이 일어나야 한다.
    * 생성자에 자동와이어링 적용하려면 autowire="constructor" 애트리뷰트를 이용하면 된다.
    * XML 안에서 자동와이어링을 사용하는 방식의 단점
      1. XML만 봐서는 빈 사이의 의존관계를 알기 힘들다.
      2. 이름을 이용한 자동와이어링은 오타로 빈 이름을 잘못 적어서 DI 되지 않고 넘어갈 위험도 있다.
      3. 타입에 의한 자동와이어링은 대입 가능한 타입이 두 개 이상이면 문제가 된다.
      4. 하나의 빈에 대해 한 가지 자동와이어링 방식밖에 지정할 수 없다는 것이 한계
      
- XML: 네임스페이스와 전용 태그
- 애노테이션: @Resource
- 애노테이션: @Autowired/@Inject
- @Autowired와 getBean(), 스프링 테스트
- 자바 코드에 의한 의존관계 설정
- 빈 의존관계 설정 전략